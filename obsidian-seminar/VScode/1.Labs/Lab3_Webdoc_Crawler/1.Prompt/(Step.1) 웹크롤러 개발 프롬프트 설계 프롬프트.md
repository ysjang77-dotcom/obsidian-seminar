# 프롬프트 설계 요구서
- [목적] 사용자가 제시하는 특정 사이트 주소의 페이지에 링크된 하위문서(html)를 모두 크롤링하여 markdown 형식의 문서로 통합하여 저장하는 python 코드를 작성하는 생성형AI 프롬프트 설계
- [예시]
	- "https://reliability.readthedocs.io/en/latest/API%20reference.html" 주소에 링크된 python 의 reliability 패키지의 API Document 들을 모두 크롤링하여 모든 함수에 대한 통합 markdown 문서를 생성
- [요구사항]
	- 사용자가 제시하는 특정 사이트 주소의 페이지에 링크된 하위문서(html)를 모두 크롤링하여 markdown 형식의 문서로 통합하여 저장
	- 크롤링되는 각각의 html파일을 하위폴더에 저장하고, 이들을 
	- html문서의 불필요한 부분은 제거하고 함수의 도움말 컨텐츠만 추출할 것
- [제약조건]
	- 생성형AI에게 코드생성을 요청하는 프롬프트를 출력할 것
	- 생성되는 분석코드는 모듈화되고 재사용성과 가독성 및 확장성이 있어야 하며, 이해하기 쉽도록 주석이 제시되어야함
	- 모든 실행과정은 로그로 기록되고, 모든 중간 및 최종 산출물은 사용자에게 제공되어야 함
	- 프롬프트는 한글로 출력할 것
	-  그 외에 코드 개발을 위해서 필요한 추가 요구사항, 논리적으로 보완할 점이나 고려할 사항을 추가해서 프롬프트를 설계할 것

# (참고자료) 프롬프팅 핵심기법

## **1) 역할-과업-형식 (PTF: Persona, Task, Format)**

PTF는 AI에게 지시를 내리는 가장 기본적이면서도 강력한 프레임워크입니다. AI에게 명확한 역할을 부여하면, 해당 분야의 지식과 스타일에 맞는 코드를 생성할 확률이 높아집니다.

- **P (Persona, 역할 부여):** AI의 전문 분야와 정체성을 구체적으로 지정합니다. 단순히 전문가 역할을 부여하는 것을 넘어, 사용하는 기술 스택과 전문 분야를 명시하면 더 정제된 결과물을 얻을 수 있습니다.
    
    - **예시:** "너는 **신뢰성 공학(Reliability Engineering) 전문가**이며, Python의 `pandas`, `numpy`, `matplotlib` 라이브러리를 활용한 **수명 데이터 분석(Lifetime Data Analysis)에 능숙**해."
        
- **T (Task, 과업 지시):** 수행할 작업을 구체적이고 명확하게 지시합니다. 두루뭉술한 지시 대신, 분석할 데이터의 정보(파일명, 컬럼 구조), 사용할 분석 기법 등 상세 정보를 포함해야 AI가 작업을 정확히 이해할 수 있습니다.
    
    - **예시:** "첨부된 `alt_data.csv` 파일(컬럼: `stress_level`, `time_to_failure`)을 읽어, **스트레스 수준별 와이블 분포(Weibull distribution)를 분석**하고 각 파라미터를 추정해줘."
        
- **F (Format, 형식 지정):** 결과물을 어떤 형태로 받을지 명시합니다. 코드뿐만 아니라, 보고서 초안, 함수 설명 문서(docstring), 특정 폴더 구조에 맞는 파일 목록 등 원하는 모든 출력 형식을 지정할 수 있습니다.
    
    - **예시:** "결과는 **Jupyter Notebook 형식**으로 셀을 나누어줘. 첫 번째 셀은 데이터 로딩, 두 번째 셀은 분석 코드, 세 번째 셀은 시각화 코드를 포함해줘."
        

### **2) 제로샷, 퓨샷, CoT 기법의 활용**

상황에 따라 다른 프롬프팅 기법을 선택하여 AI의 응답을 유도할 수 있습니다.

- **제로샷 프롬프팅 (Zero-Shot Prompting):** 별도의 예시 없이 바로 작업을 지시하는 방식으로, 작업이 간단하고 명확할 때 빠르게 사용하기 좋습니다.
    
    - **예시:** "파이썬으로 현재 시간을 'YYYY-MM-DD HH:MM:SS' 형식으로 출력하는 코드를 만들어줘."
        
- **퓨샷 프롬프팅 (Few-Shot Prompting):** 1~3개의 간단한 예시(입력과 출력 쌍)를 먼저 보여주고 작업을 지시합니다. AI가 내 의도를 잘 이해하지 못하거나, 특정 출력 형식을 따라 하게 만들고 싶을 때 효과적입니다. 제공하는 예시의 품질이 결과에 큰 영향을 미칩니다.
    
    - **예시:** "아래 예시처럼, 주어진 고장 코드(Failure Code)에서 시스템명만 추출하는 파이썬 함수를 만들어줘.
        
        - `F-SYS1-001` -> `SYS1`
            
        - `F-SYS2-005` -> `SYS2`"
            
- **사고의 연쇄 (CoT: Chain-of-Thought) 프롬프팅:** 복잡한 문제의 경우, AI에게 "단계별로 생각해서(Step-by-step)" 해결 과정을 설명하며 코드를 작성하도록 유도하는 기법입니다. 여러 단계를 거쳐야 하는 복잡한 분석이나 알고리즘 구현에 필수적이며, AI가 스스로 논리를 점검하게 만들어 실수를 줄일 수 있습니다.
    
    - **예시:** "총 가동 시간과 고장 횟수 데이터가 주어졌을 때, **MTBF(평균고장간격)를 계산하는 과정**을 **'단계별로 생각해서(Let's think step by step)'** 논리적으로 설명하고, 이를 수행하는 Python 코드를 작성해줘."
        

### **3) 명확한 맥락 제공 및 제약 조건 설정**

코드의 정확성과 품질을 높이기 위해 명확한 맥락과 구체적인 제약 조건을 설정하는 것이 중요합니다.

- **맥락(Context) 제공:** 분석하려는 데이터의 일부(헤더, 몇 개 행)를 직접 보여주거나, 기존 코드의 특정 부분을 제공하며 "이 코드에서 발생하는 에러를 해결해줘" 또는 "이 함수에 기능을 추가해줘"라고 지시합니다.
    
- **제약 조건(Constraints) 설정:** 사용할 프로그래밍 언어, 라이브러리 버전, 피해야 할 함수, 코드 스타일 등을 명시하여 결과물이 특정 요구사항을 만족하도록 지시합니다.
    
    - **예시:** “파이썬 3.9 버전을 기준으로, **numpy 라이브러리만 사용**해서 두 행렬의 곱을 구하는 코드를 작성해줘.”
        
- **테스트 케이스 먼저 제시하기 (TDD 방식 활용):** AI가 코드를 작성하기 전에, 통과해야 할 테스트 케이스를 먼저 제공하는 전략입니다. 이는 AI가 만들어낼 코드의 정확성과 신뢰도를 크게 향상시킵니다.
    
    - **예시:** "아래 `pytest` 형식의 **단위 테스트를 모두 통과**하는 `calculate_reliability(t, mtbf)` 함수를 작성해줘."
        
- **소프트웨어 공학 원칙 적용하기:** 소프트웨어 개발 방법론(SOLID, SRP,  클린 아키텍처, 테스트 주도 개발)을 적용할 것을 명시적으로 요구하여 모듈화되고 유지보수하기 좋은 코드를 생성하도록 유도할 수 있습니다. 
    
    - **예시:** "데이터 처리, 분석, 시각화 기능을 각각 별도의 함수로 만들어줘. 각 함수는 **단일 책임 원칙(Single Responsibility Principle)을 준수**하도록 설계해줘."
        

### **4) 점진적 개선 및 대화형 디버깅**

AI와의 상호작용은 한 번에 끝나지 않습니다. 대화를 통해 결과물을 점진적으로 개선해 나가는 것이 Vibe 코딩의 핵심입니다.

- **후속 질문으로 구체화:** AI가 생성한 초안을 바탕으로 추가적인 요구사항을 전달하여 코드를 발전시킵니다.
    
    - **예시:** “방금 만들어준 그래프의 X축 라벨을 'Time (hours)'로 변경하고, 제목을 추가해줘.”
        
- **오류 메시지 기반 디버깅:** 코드 실행 중 발생한 오류 메시지를 그대로 AI에게 보여주며 원인 분석과 해결책을 요청합니다.
    
    - **예시:** "`TypeError: unsupported operand type(s) for +: 'int' and 'str'` 에러가 발생했는데, 원인이 뭐고 어떻게 수정해야 해?"
        
- **AI에게 스스로 코드 비평 및 개선 요청하기 (Self-Critique & Refinement):** AI가 생성한 초안에 대해 스스로 문제점을 찾고 개선하도록 지시하는 기법입니다. 이 기법(RCI: Recursive Criticism and Improvement)은 AI가 스스로 편집자 역할을 하도록 만들어, 사용자가 일일이 피드백하지 않아도 결과물의 완성도를 높이는 데 매우 효과적입니다.
    
    - **예시:** "방금 네가 작성한 코드를 다시 한번 검토해줘. **잠재적인 버그나 비효율적인 부분**은 없는지 찾아보고, 더 안정적이고 읽기 좋은 코드로 **개선한 버전**을 다시 제안해줘."
        

### **5) 계획 수립 후 실행 (Plan-and-Solve)**

복잡한 프로젝트를 한 번에 지시하면 AI가 길을 잃기 쉽습니다. 이럴 때는 먼저 전체 작업에 대한 계획을 세우게 한 뒤, 그 계획에 따라 단계별로 코드를 작성하도록 요청하는 것이 효과적입니다.

- **목적:** 복잡한 과업을 논리적 단계로 분해하여 AI가 중간 단계를 누락하거나 계산 실수를 하는 것을 방지합니다.
    
- **사용 방식:**
    
    1. **Plan (계획 수립):** 먼저 큰 목표를 제시하고, 그 목표를 달성하기 위한 세부 계획을 세우도록 지시합니다.
        
    2. **Solve (실행):** AI가 세운 계획에 따라 각 단계를 순서대로 실행하도록 요청합니다.
        
- **예시:**
    
    - **1단계 (Plan):** "신뢰성 시험 데이터를 분석해서 **최종적으로 PDF 보고서를 생성**하는 전체 과정에 대한 **실행 계획을 먼저 세워줘.** 계획에는 데이터 불러오기, 전처리, 분석, 시각화, PDF 생성 단계가 포함되어야 해."
        
    - **2단계 (Solve):** "좋아, 방금 네가 세운 계획의 **1번 단계(데이터 불러오기)부터 코드를 작성**해줘."
        