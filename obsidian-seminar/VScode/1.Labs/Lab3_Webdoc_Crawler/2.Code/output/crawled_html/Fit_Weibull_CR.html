<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<img alt="https://raw.githubusercontent.com/MatthewReid854/reliability/master/docs/images/logo.png" src="https://raw.githubusercontent.com/MatthewReid854/reliability/master/docs/images/logo.png"/>
<hr class="docutils"/>
<section id="fit-weibull-cr">
<h1>Fit_Weibull_CR<a class="headerlink" href="#fit-weibull-cr" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="reliability.Fitters.Fit_Weibull_CR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">reliability.Fitters.</span></span><span class="sig-name descname"><span class="pre">Fit_Weibull_CR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">failures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right_censored</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_probability_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_results</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">CI</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downsample_scatterplot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#reliability.Fitters.Fit_Weibull_CR" title="Link to this definition"></a></dt>
<dd><p>Fits a Weibull Competing Risks Model consisting of two Weibull_2P
distributions (this does not fit the gamma parameter). Similar to the
mixture model, you can use this model when you think there are multiple
failure modes acting to create the failure data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>failures</strong> (<em>array, list</em>) – An array or list of the failure data. There must be at least 4 failures,
but it is highly recommended to use another model if you have less than
20 failures.</p></li>
<li><p><strong>right_censored</strong> (<em>array, list, optional</em>) – The right censored data. Optional input. Default = None.</p></li>
<li><p><strong>show_probability_plot</strong> (<em>bool, optional</em>) – True or False. Default = True</p></li>
<li><p><strong>print_results</strong> (<em>bool, optional</em>) – Prints a dataframe of the point estimate, standard error, Lower CI and
Upper CI for each parameter. True or False. Default = True</p></li>
<li><p><strong>optimizer</strong> (<em>str, optional</em>) – The optimization algorithm used to find the solution. Must be either
‘TNC’, ‘L-BFGS-B’, ‘nelder-mead’, or ‘powell’. Specifying the optimizer
will result in that optimizer being used. To use all of these specify
‘best’ and the best result will be returned. The default behaviour is to
try each optimizer in order (‘TNC’, ‘L-BFGS-B’, ‘nelder-mead’, and
‘powell’) and stop once one of the optimizers finds a solution. If the
optimizer fails, the initial guess will be returned.
For more detail see the <a class="reference external" href="https://reliability.readthedocs.io/en/latest/Optimizers.html">documentation</a>.</p></li>
<li><p><strong>CI</strong> (<em>float, optional</em>) – confidence interval for estimating confidence limits on parameters. Must
be between 0 and 1. Default is 0.95 for 95% CI.</p></li>
<li><p><strong>downsample_scatterplot</strong> (<em>bool, int, optional</em>) – If True or None, and there are over 1000 points, then the scatterplot
will be downsampled by a factor. The default downsample factor will seek
to produce between 500 and 1000 points. If a number is specified, it
will be used as the downsample factor. Default is True. This
functionality makes plotting faster when there are very large numbers of
points. It only affects the scatterplot not the calculations.</p></li>
<li><p><strong>kwargs</strong> – Plotting keywords that are passed directly to matplotlib for the
probability plot (e.g. color, label, linestyle)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>alpha_1</strong> (<em>float</em>) – the fitted Weibull_2P alpha parameter for the first distribution</p></li>
<li><p><strong>beta_1</strong> (<em>float</em>) – the fitted Weibull_2P beta parameter for the first distribution</p></li>
<li><p><strong>alpha_2</strong> (<em>float</em>) – the fitted Weibull_2P alpha parameter for the second distribution</p></li>
<li><p><strong>beta_2</strong> (<em>float</em>) – the fitted Weibull_2P beta parameter for the second distribution</p></li>
<li><p><strong>alpha_1_SE</strong> (<em>float</em>) – the standard error (sqrt(variance)) of the parameter</p></li>
<li><p><strong>beta_1_SE</strong> (<em>float</em>) – the standard error (sqrt(variance)) of the parameter</p></li>
<li><p><strong>alpha_2_SE</strong> (<em>float</em>) – the standard error (sqrt(variance)) of the parameter</p></li>
<li><p><strong>beta_2_SE</strong> (<em>float</em>) – the standard error (sqrt(variance)) of the parameter</p></li>
<li><p><strong>alpha_1_upper</strong> (<em>float</em>) – the upper CI estimate of the parameter</p></li>
<li><p><strong>alpha_1_lower</strong> (<em>float</em>) – the lower CI estimate of the parameter</p></li>
<li><p><strong>alpha_2_upper</strong> (<em>float</em>) – the upper CI estimate of the parameter</p></li>
<li><p><strong>alpha_2_lower</strong> (<em>float</em>) – the lower CI estimate of the parameter</p></li>
<li><p><strong>beta_1_upper</strong> (<em>float</em>) – the upper CI estimate of the parameter</p></li>
<li><p><strong>beta_1_lower</strong> (<em>float</em>) – the lower CI estimate of the parameter</p></li>
<li><p><strong>beta_2_upper</strong> (<em>float</em>) – the upper CI estimate of the parameter</p></li>
<li><p><strong>beta_2_lower</strong> (<em>float</em>) – the lower CI estimate of the parameter</p></li>
<li><p><strong>loglik</strong> (<em>float</em>) – Log Likelihood (as used in Minitab and Reliasoft)</p></li>
<li><p><strong>loglik2</strong> (<em>float</em>) – LogLikelihood*-2 (as used in JMP Pro)</p></li>
<li><p><strong>AICc</strong> (<em>float</em>) – Akaike Information Criterion</p></li>
<li><p><strong>BIC</strong> (<em>float</em>) – Bayesian Information Criterion</p></li>
<li><p><strong>AD</strong> (<em>float</em>) – the Anderson Darling (corrected) statistic (as reported by Minitab)</p></li>
<li><p><strong>distribution</strong> (<em>object</em>) – a Competing_Risks_Model object with the parameters of the fitted
distribution</p></li>
<li><p><strong>results</strong> (<em>dataframe</em>) – a pandas dataframe of the results (point estimate, standard error,
lower CI and upper CI for each parameter)</p></li>
<li><p><strong>goodness_of_fit</strong> (<em>dataframe</em>) – a pandas dataframe of the goodness of fit values (Log-likelihood, AICc,
BIC, AD).</p></li>
<li><p><strong>probability_plot</strong> (<em>object</em>) – the axes handle for the probability plot. This is only returned if
show_probability_plot = True</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This is different to the Weibull Mixture model as the overall Survival
Function is the product of the individual Survival Functions rather than
being the sum as is the case in the Weibull Mixture Model.</p>
<p>Mixture Model: <span class="math notranslate nohighlight">\(SF_{model} = (proportion_1 × SF_1) +
((1-proportion_1) × SF_2)\)</span></p>
<p>Competing Risks Model: <span class="math notranslate nohighlight">\(SF_{model} = SF_1 × SF_2\)</span></p>
<p>Whilst some failure modes may not be fitted as well by a Weibull
distribution as they may be by another distribution, it is unlikely that
data from a competing risks model will be fitted noticeably better by other
types of competing risks models than would be achieved by a Weibull
Competing Risks model. For this reason, other types of competing risks
models are not implemented.</p>
<dl class="py method">
<dt class="sig sig-object py" id="reliability.Fitters.Fit_Weibull_CR.LL">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T_rc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#reliability.Fitters.Fit_Weibull_CR.LL" title="Link to this definition"></a></dt>
<dd></dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="reliability.Fitters.Fit_Weibull_CR.logR">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">logR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#reliability.Fitters.Fit_Weibull_CR.logR" title="Link to this definition"></a></dt>
<dd></dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="reliability.Fitters.Fit_Weibull_CR.logf">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">logf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#reliability.Fitters.Fit_Weibull_CR.logf" title="Link to this definition"></a></dt>
<dd></dd></dl>
</dd></dl>
</section>
</div>
</div>