<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<img alt="_images/logo.png" src="_images/logo.png"/>
<hr class="docutils"/>
<section id="working-with-fitted-distributions">
<h1>Working with fitted distributions<a class="headerlink" href="#working-with-fitted-distributions" title="Link to this heading"></a></h1>
<p>Probability distributions can be created by <a class="reference external" href="https://reliability.readthedocs.io/en/latest/Creating%20and%20plotting%20distributions.html">specifying the parameters</a> or by <a class="reference external" href="https://reliability.readthedocs.io/en/latest/Fitting%20a%20specific%20distribution%20to%20data.html">fitting the model to data</a>.
The main difference between the two distribution objects is the presence of additional parameters required to generate the confidence bounds on the plot.
This document shows how a fitted distribution can be used to make certain predictions, with a focus on extracting values from the confidence bounds.</p>
<p>The additional parameters that are added to the distribution object when it is created by a Fitter are the standard error of each parameter (eg. alpha_SE, beta_SE) and the covariance between the parameters (e.g. Cov_alpha_beta).
The confidence interval is also required, though this defaults to 0.95 for 95% confidence bounds. It may be specified using the CI argument.</p>
<p>The confidence bounds available are bounds on time or bounds on reliability. For an detailed explaination of how these are calculated, please see the <a class="reference external" href="https://reliability.readthedocs.io/en/latest/How%20are%20the%20confidence%20intervals%20calculated.html#confidence-intervals-on-the-plots">theory document</a> on confidence intervals.
The important thing to note here is that they are different, and which one you should use depends on what you want to know.
If you want to know the system reliability at a certain time, then you are specifying time (CI_x) and seeking bounds on reliability (CI_type=’reliability’).
If you want to know the time that the system will reach a certain reliability, then you are specifying reliability (CI_y) and seeking bounds on time (CI_type=’time’).
Note that these are paired, so CI_y only works with CI_type=’time’ and CI_x only works with CI_type=’reliability’. The only exception to this is the Exponential Distribution which does not accept CI_type since bounds on time and reliability are identical.</p>
<section id="example-1">
<h2>Example 1<a class="headerlink" href="#example-1" title="Link to this heading"></a></h2>
<p>In this example, we see how the confidence bounds on time or reliability should be used based on what we are trying to predict.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">reliability.Distributions</span><span class="w"> </span><span class="kn">import</span> <span class="n">Weibull_Distribution</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">reliability.Fitters</span><span class="w"> </span><span class="kn">import</span> <span class="n">Fit_Weibull_2P</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">dist</span> <span class="o">=</span> <span class="n">Weibull_Distribution</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span><span class="n">beta</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">dist</span><span class="o">.</span><span class="n">random_samples</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">fit</span> <span class="o">=</span> <span class="n">Fit_Weibull_2P</span><span class="p">(</span><span class="n">failures</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">show_probability_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">print_results</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
<span class="n">arrow_x</span> <span class="o">=</span> <span class="mi">25</span>
<span class="n">arrow_y</span> <span class="o">=</span> <span class="mf">0.025</span>

<span class="n">X_lower</span><span class="p">,</span><span class="n">X_point</span><span class="p">,</span><span class="n">X_upper</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">CDF</span><span class="p">(</span><span class="n">CI_type</span><span class="o">=</span><span class="s1">'time'</span><span class="p">,</span><span class="n">CI_y</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span><span class="n">dx</span><span class="o">=</span><span class="n">X_upper</span><span class="p">,</span><span class="n">dy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span><span class="n">head_width</span><span class="o">=</span><span class="n">arrow_y</span><span class="p">,</span><span class="n">head_length</span><span class="o">=</span><span class="n">arrow_x</span><span class="p">,</span><span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">X_lower</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span><span class="n">dx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">dy</span><span class="o">=-</span><span class="mf">0.7</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span><span class="n">head_width</span><span class="o">=</span><span class="n">arrow_x</span><span class="p">,</span><span class="n">head_length</span><span class="o">=</span><span class="n">arrow_y</span><span class="p">,</span><span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">X_point</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span><span class="n">dx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">dy</span><span class="o">=-</span><span class="mf">0.7</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span><span class="n">head_width</span><span class="o">=</span><span class="n">arrow_x</span><span class="p">,</span><span class="n">head_length</span><span class="o">=</span><span class="n">arrow_y</span><span class="p">,</span><span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">X_upper</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span><span class="n">dx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">dy</span><span class="o">=-</span><span class="mf">0.7</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span><span class="n">head_width</span><span class="o">=</span><span class="n">arrow_x</span><span class="p">,</span><span class="n">head_length</span><span class="o">=</span><span class="n">arrow_y</span><span class="p">,</span><span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">dist</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.99</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mf">0.705</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="s1">'CI_y=0.7'</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="s1">'bottom'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">X_lower</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mf">0.035</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="s1">'lower'</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="s1">'bottom'</span><span class="p">,</span><span class="n">ha</span><span class="o">=</span><span class="s1">'right'</span><span class="p">,</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">X_point</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mf">0.035</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="s1">'point'</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="s1">'bottom'</span><span class="p">,</span><span class="n">ha</span><span class="o">=</span><span class="s1">'right'</span><span class="p">,</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">X_upper</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mf">0.035</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="s1">'upper'</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="s1">'bottom'</span><span class="p">,</span><span class="n">ha</span><span class="o">=</span><span class="s1">'right'</span><span class="p">,</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'Weibull CDF</span><span class="se">\n</span><span class="s1">Confidence bounds on time'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
<span class="n">Y_lower</span><span class="p">,</span><span class="n">Y_point</span><span class="p">,</span><span class="n">Y_upper</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">CDF</span><span class="p">(</span><span class="n">CI_type</span><span class="o">=</span><span class="s1">'reliability'</span><span class="p">,</span><span class="n">CI_x</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">dx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">dy</span><span class="o">=</span><span class="n">Y_upper</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span><span class="n">head_width</span><span class="o">=</span><span class="n">arrow_x</span><span class="p">,</span><span class="n">head_length</span><span class="o">=</span><span class="n">arrow_y</span><span class="p">,</span><span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">Y_lower</span><span class="p">,</span><span class="n">dx</span><span class="o">=-</span><span class="mi">300</span><span class="p">,</span><span class="n">dy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span><span class="n">head_width</span><span class="o">=</span><span class="n">arrow_y</span><span class="p">,</span><span class="n">head_length</span><span class="o">=</span><span class="n">arrow_x</span><span class="p">,</span><span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">Y_point</span><span class="p">,</span><span class="n">dx</span><span class="o">=-</span><span class="mi">300</span><span class="p">,</span><span class="n">dy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span><span class="n">head_width</span><span class="o">=</span><span class="n">arrow_y</span><span class="p">,</span><span class="n">head_length</span><span class="o">=</span><span class="n">arrow_x</span><span class="p">,</span><span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">Y_upper</span><span class="p">,</span><span class="n">dx</span><span class="o">=-</span><span class="mi">300</span><span class="p">,</span><span class="n">dy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span><span class="n">head_width</span><span class="o">=</span><span class="n">arrow_y</span><span class="p">,</span><span class="n">head_length</span><span class="o">=</span><span class="n">arrow_x</span><span class="p">,</span><span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">dist</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.99</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">301</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="s1">'CI_x=300'</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="s1">'bottom'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">Y_lower</span><span class="o">+</span><span class="mf">0.002</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="s1">'lower'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">Y_point</span><span class="o">+</span><span class="mf">0.002</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="s1">'point'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">Y_upper</span><span class="o">+</span><span class="mf">0.002</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="s1">'upper'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'Weibull CDF</span><span class="se">\n</span><span class="s1">Confidence bounds on reliability'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/confidence_bounds_traceV2.png" src="_images/confidence_bounds_traceV2.png"/>
</section>
<section id="example-2">
<h2>Example 2<a class="headerlink" href="#example-2" title="Link to this heading"></a></h2>
<p>There are 5 plots available (PDF, CDF, SF, HF, CHF) and confidence bounds are only available for 3 of them (CDF, SF, CHF).
The following example shows how these plots can be generated, as well as extracting the confidence bounds (the red, purple, and blue points) using CI_x and CI_y.
You can also turn off the confidence bounds if you set plot_CI=False.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">reliability.Distributions</span><span class="w"> </span><span class="kn">import</span> <span class="n">Weibull_Distribution</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">reliability.Fitters</span><span class="w"> </span><span class="kn">import</span> <span class="n">Fit_Weibull_2P</span>

<span class="n">dist</span> <span class="o">=</span> <span class="n">Weibull_Distribution</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span><span class="n">beta</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">dist</span><span class="o">.</span><span class="n">random_samples</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">fit</span> <span class="o">=</span> <span class="n">Fit_Weibull_2P</span><span class="p">(</span><span class="n">failures</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">show_probability_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">print_results</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CI_x</span> <span class="o">=</span> <span class="p">[</span><span class="n">dist</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.25</span><span class="p">),</span><span class="n">dist</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span><span class="n">dist</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)]</span>
<span class="n">CI_y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.75</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">9</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">PDF</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'PDF'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">CDF</span><span class="p">(</span><span class="n">plot_CI</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'CDF'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="n">lower</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">upper</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">CDF</span><span class="p">(</span><span class="n">CI_y</span><span class="o">=</span><span class="n">CI_y</span><span class="p">,</span><span class="n">CI_type</span><span class="o">=</span><span class="s1">'time'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span><span class="n">CI_y</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">point</span><span class="p">,</span><span class="n">CI_y</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'purple'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">upper</span><span class="p">,</span><span class="n">CI_y</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'CDF time'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">12</span><span class="p">)</span>
<span class="n">lower</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">upper</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">CDF</span><span class="p">(</span><span class="n">CI_x</span><span class="o">=</span><span class="n">CI_x</span><span class="p">,</span><span class="n">CI_type</span><span class="o">=</span><span class="s1">'rel'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">CI_x</span><span class="p">,</span><span class="n">lower</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">CI_x</span><span class="p">,</span><span class="n">point</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'purple'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">CI_x</span><span class="p">,</span><span class="n">upper</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'CDF reliability'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">SF</span><span class="p">(</span><span class="n">plot_CI</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'SF'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="n">lower</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">upper</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">SF</span><span class="p">(</span><span class="n">CI_y</span><span class="o">=</span><span class="n">CI_y</span><span class="p">,</span><span class="n">CI_type</span><span class="o">=</span><span class="s1">'time'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span><span class="n">CI_y</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">point</span><span class="p">,</span><span class="n">CI_y</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'purple'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">upper</span><span class="p">,</span><span class="n">CI_y</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'SF time'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">13</span><span class="p">)</span>
<span class="n">lower</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">upper</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">SF</span><span class="p">(</span><span class="n">CI_x</span><span class="o">=</span><span class="n">CI_x</span><span class="p">,</span><span class="n">CI_type</span><span class="o">=</span><span class="s1">'rel'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">CI_x</span><span class="p">,</span><span class="n">lower</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">CI_x</span><span class="p">,</span><span class="n">point</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'purple'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">CI_x</span><span class="p">,</span><span class="n">upper</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'SF reliability'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">HF</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'HF'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">CHF</span><span class="p">(</span><span class="n">plot_CI</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'CHF'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">CI_y_chf</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">lower</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">upper</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">CHF</span><span class="p">(</span><span class="n">CI_y</span><span class="o">=</span><span class="n">CI_y_chf</span><span class="p">,</span><span class="n">CI_type</span><span class="o">=</span><span class="s1">'time'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span><span class="n">CI_y_chf</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">point</span><span class="p">,</span><span class="n">CI_y_chf</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'purple'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">upper</span><span class="p">,</span><span class="n">CI_y_chf</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'CHF time'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span>
<span class="n">lower</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">upper</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">CHF</span><span class="p">(</span><span class="n">CI_x</span><span class="o">=</span><span class="n">CI_x</span><span class="p">,</span><span class="n">CI_type</span><span class="o">=</span><span class="s1">'rel'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">CI_x</span><span class="p">,</span><span class="n">lower</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">CI_x</span><span class="p">,</span><span class="n">point</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'purple'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">CI_x</span><span class="p">,</span><span class="n">upper</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'CHF reliability'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">'Example of the range of plots available for a fitted distribution'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/range_of_plots_available.png" src="_images/range_of_plots_available.png"/>
</section>
<section id="example-3">
<h2>Example 3<a class="headerlink" href="#example-3" title="Link to this heading"></a></h2>
<p>Now, let’s get into a realistic example. We begin by importing the automotive dataset from the Datasets module.
This dataset provides failure times (in miles) and right censored times (in miles) for a fleet of vehicles on test.
We will fit a Weibull Distribution, and then from the fitted distribution, we want to know the system reliability after 100000 miles.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">reliability.Datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">automotive</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">reliability.Fitters</span><span class="w"> </span><span class="kn">import</span> <span class="n">Fit_Weibull_2P</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">fit</span> <span class="o">=</span> <span class="n">Fit_Weibull_2P</span><span class="p">(</span><span class="n">failures</span><span class="o">=</span><span class="n">automotive</span><span class="p">()</span><span class="o">.</span><span class="n">failures</span><span class="p">,</span><span class="n">right_censored</span><span class="o">=</span><span class="n">automotive</span><span class="p">()</span><span class="o">.</span><span class="n">right_censored</span><span class="p">,</span><span class="n">show_probability_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># we want to know the system reliability after 100000 miles</span>
<span class="n">lower</span><span class="p">,</span><span class="n">point</span><span class="p">,</span><span class="n">upper</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">SF</span><span class="p">(</span><span class="n">CI_x</span><span class="o">=</span><span class="mi">100000</span><span class="p">,</span><span class="n">CI_type</span><span class="o">=</span><span class="s1">'reliability'</span><span class="p">,</span><span class="n">CI</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">([</span><span class="mi">100000</span><span class="p">,</span><span class="mi">100000</span><span class="p">,</span><span class="mi">100000</span><span class="p">],[</span><span class="n">lower</span><span class="p">,</span><span class="n">point</span><span class="p">,</span><span class="n">upper</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s1">'black'</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'Failures:'</span><span class="p">,</span><span class="n">automotive</span><span class="p">()</span><span class="o">.</span><span class="n">failures</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'Right censored:'</span><span class="p">,</span><span class="n">automotive</span><span class="p">()</span><span class="o">.</span><span class="n">right_censored</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"The 80</span><span class="si">% r</span><span class="s2">eliability estimates at 100000 miles are:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"lower bound: "</span><span class="o">+</span><span class="s2">"</span><span class="si">{:.2%}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lower</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"point estimate: "</span><span class="o">+</span><span class="s2">"</span><span class="si">{:.2%}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">point</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"upper bound: "</span><span class="o">+</span><span class="s2">"</span><span class="si">{:.2%}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">upper</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="sd">'''</span>
<span class="sd">Results from Fit_Weibull_2P (95% CI):</span>
<span class="sd">Analysis method: Maximum Likelihood Estimation (MLE)</span>
<span class="sd">Optimizer: TNC</span>
<span class="sd">Failures / Right censored: 10/21 (67.74194% right censored)</span>

<span class="sd">Parameter  Point Estimate  Standard Error  Lower CI  Upper CI</span>
<span class="sd">    Alpha          134651         42767.3   72252.9    250937</span>
<span class="sd">     Beta         1.15443         0.29614  0.698249   1.90863</span>

<span class="sd">Goodness of fit    Value</span>
<span class="sd"> Log-likelihood -128.974</span>
<span class="sd">           AICc  262.376</span>
<span class="sd">            BIC  264.816</span>
<span class="sd">             AD  35.6052</span>

<span class="sd">Failures: [5248, 7454, 16890, 17200, 38700, 45000, 49390, 69040, 72280, 131900]</span>
<span class="sd">Right censored: [3961, 4007, 4734, 6054, 7298, 10190, 23060, 27160, 28690, 37100, 40060, 45670, 53000, 67000, 69630, 77350, 78470, 91680, 105700, 106300, 150400]</span>

<span class="sd">The 80% reliability estimates at 100000 miles are:</span>
<span class="sd">lower bound: 33.83%</span>
<span class="sd">point estimate: 49.20%</span>
<span class="sd">upper bound: 62.87%</span>
<span class="sd">'''</span>
</pre></div>
</div>
<img alt="_images/automotive_bounds.png" src="_images/automotive_bounds.png"/>
</section>
</section>
</div>
</div>