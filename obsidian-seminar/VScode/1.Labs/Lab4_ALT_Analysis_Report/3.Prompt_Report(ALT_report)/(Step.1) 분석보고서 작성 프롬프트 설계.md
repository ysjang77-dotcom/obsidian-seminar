- [목적] 가속수명시험 분석결과를 정리하여 분석 리포트를 작성하는 프롬프트의 설계
- [예시]
	- Jupyter Notebook 을 통해서 분석과정과 결과가 저장된 html 파일을 분석하여, 통계지식이 없는 신뢰성 분석에 대한 비전문가도 이해할 수 있도록 분석과정과 결과를 상세히 설명해주는 리포트를 작성
- [가속수명시험 정보]
	- 반도체칩의 가속수명시험데이터
	- 스트레스: 온도 (섭씨 100, 150, 200도)
	- 시료:  각 스트레스 수준별로 10개 (총 30개)
	- 사용조건: 섭씨 60도
	- 분석목적: 사용조건에서 B1, B5, B10, B50 수명과 1000, 2000, 5000시간에서의 누적고장확률, MTTF 예측
- [보고 대상]
	- 가속수명시험 분석을 의뢰한 실무자(제품 설계 엔지니어)
	- 제품 신뢰성 개발 관리자(팀장, 경영층)
- [요구사항/제약조건]
	- 아래 제시된 프롬프팅 핵심기법에 따라서 프롬프트를 설계할 것
	- 생성형AI에게 보고서 작성을 요청하는 프롬프트를 설계할 것
	- 아래 제시된 가속수명시험 분석절차와 첨부한 분석결과(html형식)을 참고할 것
	- 보고서는 분석절차에 따라서 목차를 구성하고, bullet-point 형식으로 논리적이고 구체적으로 작성되어야 함
	- 실무자에게는 분석과정을 구체적이고 상세하게 기술하고, 각 단계의 분석결과에 대한 판단근거를 상세히 설명할 것 (실무자가 분석내용을 완전히 이해하고, 관리자의 질문에 충실하게 답변할 수 있도록 정보와 지식을 제공)
	- 관리자에게는 결과중심으로 Executive Summary 형식으로 설명하되, 제품의 수명에 대한 정보를 명확하게 제공할 것
	- 프롬프트는 한글로 출력할 것
	- 그 외에 보고서 작성을 위해서 필요한 추가 요구사항, 논리적으로 보완할 점이나 고려할 사항을 추가해서 프롬프트를 설계할 것

# (참고자료) 프롬프팅 핵심기법

## **1) 역할-과업-형식 (PTF: Persona, Task, Format)**

PTF는 AI에게 지시를 내리는 가장 기본적이면서도 강력한 프레임워크입니다. AI에게 명확한 역할을 부여하면, 해당 분야의 지식과 스타일에 맞는 코드를 생성할 확률이 높아집니다.

- **P (Persona, 역할 부여):** AI의 전문 분야와 정체성을 구체적으로 지정합니다. 단순히 전문가 역할을 부여하는 것을 넘어, 사용하는 기술 스택과 전문 분야를 명시하면 더 정제된 결과물을 얻을 수 있습니다.
    
    - **예시:** "너는 **신뢰성 공학(Reliability Engineering) 전문가**이며, Python의 `pandas`, `numpy`, `matplotlib` 라이브러리를 활용한 **수명 데이터 분석(Lifetime Data Analysis)에 능숙**해."
        
- **T (Task, 과업 지시):** 수행할 작업을 구체적이고 명확하게 지시합니다. 두루뭉술한 지시 대신, 분석할 데이터의 정보(파일명, 컬럼 구조), 사용할 분석 기법 등 상세 정보를 포함해야 AI가 작업을 정확히 이해할 수 있습니다.
    
    - **예시:** "첨부된 `alt_data.csv` 파일(컬럼: `stress_level`, `time_to_failure`)을 읽어, **스트레스 수준별 와이블 분포(Weibull distribution)를 분석**하고 각 파라미터를 추정해줘."
        
- **F (Format, 형식 지정):** 결과물을 어떤 형태로 받을지 명시합니다. 코드뿐만 아니라, 보고서 초안, 함수 설명 문서(docstring), 특정 폴더 구조에 맞는 파일 목록 등 원하는 모든 출력 형식을 지정할 수 있습니다.
    
    - **예시:** "결과는 **Jupyter Notebook 형식**으로 셀을 나누어줘. 첫 번째 셀은 데이터 로딩, 두 번째 셀은 분석 코드, 세 번째 셀은 시각화 코드를 포함해줘."
        

### **2) 제로샷, 퓨샷, CoT 기법의 활용**

상황에 따라 다른 프롬프팅 기법을 선택하여 AI의 응답을 유도할 수 있습니다.

- **제로샷 프롬프팅 (Zero-Shot Prompting):** 별도의 예시 없이 바로 작업을 지시하는 방식으로, 작업이 간단하고 명확할 때 빠르게 사용하기 좋습니다.
    
    - **예시:** "파이썬으로 현재 시간을 'YYYY-MM-DD HH:MM:SS' 형식으로 출력하는 코드를 만들어줘."
        
- **퓨샷 프롬프팅 (Few-Shot Prompting):** 1~3개의 간단한 예시(입력과 출력 쌍)를 먼저 보여주고 작업을 지시합니다. AI가 내 의도를 잘 이해하지 못하거나, 특정 출력 형식을 따라 하게 만들고 싶을 때 효과적입니다. 제공하는 예시의 품질이 결과에 큰 영향을 미칩니다.
    
    - **예시:** "아래 예시처럼, 주어진 고장 코드(Failure Code)에서 시스템명만 추출하는 파이썬 함수를 만들어줘.
        
        - `F-SYS1-001` -> `SYS1`
            
        - `F-SYS2-005` -> `SYS2`"
            
- **사고의 연쇄 (CoT: Chain-of-Thought) 프롬프팅:** 복잡한 문제의 경우, AI에게 "단계별로 생각해서(Step-by-step)" 해결 과정을 설명하며 코드를 작성하도록 유도하는 기법입니다. 여러 단계를 거쳐야 하는 복잡한 분석이나 알고리즘 구현에 필수적이며, AI가 스스로 논리를 점검하게 만들어 실수를 줄일 수 있습니다.
    
    - **예시:** "총 가동 시간과 고장 횟수 데이터가 주어졌을 때, **MTBF(평균고장간격)를 계산하는 과정**을 **'단계별로 생각해서(Let's think step by step)'** 논리적으로 설명하고, 이를 수행하는 Python 코드를 작성해줘."
        

### **3) 명확한 맥락 제공 및 제약 조건 설정**

코드의 정확성과 품질을 높이기 위해 명확한 맥락과 구체적인 제약 조건을 설정하는 것이 중요합니다.

- **맥락(Context) 제공:** 분석하려는 데이터의 일부(헤더, 몇 개 행)를 직접 보여주거나, 기존 코드의 특정 부분을 제공하며 "이 코드에서 발생하는 에러를 해결해줘" 또는 "이 함수에 기능을 추가해줘"라고 지시합니다.
    
- **제약 조건(Constraints) 설정:** 사용할 프로그래밍 언어, 라이브러리 버전, 피해야 할 함수, 코드 스타일 등을 명시하여 결과물이 특정 요구사항을 만족하도록 지시합니다.
    
    - **예시:** “파이썬 3.9 버전을 기준으로, **numpy 라이브러리만 사용**해서 두 행렬의 곱을 구하는 코드를 작성해줘.”
        
- **테스트 케이스 먼저 제시하기 (TDD 방식 활용):** AI가 코드를 작성하기 전에, 통과해야 할 테스트 케이스를 먼저 제공하는 전략입니다. 이는 AI가 만들어낼 코드의 정확성과 신뢰도를 크게 향상시킵니다.
    
    - **예시:** "아래 `pytest` 형식의 **단위 테스트를 모두 통과**하는 `calculate_reliability(t, mtbf)` 함수를 작성해줘."
        
- **소프트웨어 공학 원칙 적용하기:** 소프트웨어 개발 방법론(SOLID, SRP,  클린 아키텍처, 테스트 주도 개발)을 적용할 것을 명시적으로 요구하여 모듈화되고 유지보수하기 좋은 코드를 생성하도록 유도할 수 있습니다.
    
    - **예시:** "데이터 처리, 분석, 시각화 기능을 각각 별도의 함수로 만들어줘. 각 함수는 **단일 책임 원칙(Single Responsibility Principle)을 준수**하도록 설계해줘."


# (참고자료) 가속수명시험(ALT) 데이터 분석 절차  

### 1. 개요
**분석의 최종 목표**는 가속 조건(높은 스트레스)에서 얻은 수명 데이터를 바탕으로, 정상 사용 조건(낮은 스트레스)에서의 제품 수명 분포를 추정하고, 이를 통해 **B수명(B-Life)**, **누적고장확률(CDF)** 등 핵심 신뢰성 척도를 계산하는 것입니다.

---

### 2. 가속수명시험 데이터 분석 절차

분석은 크게 5단계로 구성되며, 각 단계는 후속 프롬프트 설계를 위한 구체적인 목표와 방법을 포함합니다.

#### **1단계: 데이터 준비 및 탐색 (Data Preparation & Exploration)**

*   **목표:** 분석에 필요한 데이터를 로드하고, 구조를 파악하며, 스트레스 수준별로 데이터를 분리합니다.
*   **세부 내용:**
    1.  **데이터 로딩:** CSV 형식의 가속수명시험 데이터를 로드합니다.
        *   *입력 데이터 컬럼 예시:* `stress` (스트레스 수준, 예: 온도, 전압), `time` (고장 또는 관측 중단 시간), `censored` (고장 여부 플래그, 0: 고장, 1: 관측 중단)
    2.  **데이터 구조 확인:** 데이터의 기본 정보(행/열 수, 결측치 여부)를 확인하고, 데이터 타입을 점검합니다.
    3.  **데이터 분리:**
        *   **스트레스 수준별 분리:** 각 스트레스 수준(예: 100℃, 120℃, 150℃)에 따라 데이터를 그룹화합니다.
        *   **고장/관측중단 데이터 분리:** `censored` 플래그를 기준으로 실제 고장 데이터(Failure Data)와 관측 중단 데이터(Right-Censored Data)를 명확히 구분합니다. 관측 중단 데이터는 특정 시간까지 고장 나지 않았음을 의미하는 중요한 정보입니다.

#### **2단계: 수명분포 결정 (Determining the Life Distribution)**

*   **목표:** 각 스트레스 수준에서 제품의 수명 데이터가 어떤 확률 분포(예: 와이블, 대수정규)를 가장 잘 따르는지 결정합니다.
*   **세부 내용:**
    1.  **후보 분포 선정:** 일반적으로 가장 많이 사용되는 와이블(Weibull) 분포와 대수정규(Lognormal) 분포를 후보로 선정합니다.
    2.  **확률지(Probability Plot) 작성:** 각 스트레스 수준별 고장 데이터를 와이블 확률지, 대수정규 확률지 등에 타점(plotting)합니다.
    3.  **분포 적합성 판단:**
        *   **시각적 판단:** 확률지 상에서 데이터 점들이 직선에 가깝게 배열될수록 해당 분포에 잘 맞는다고 판단합니다.
        *   **통계적 판단:** AD(Anderson-Darling) 적합도 통계량과 같은 수치를 계산하여 값이 가장 작은 분포를 최적 분포로 선택합니다.

#### **3단계: 가속성 성립 여부 확인 (Checking the Acceleration Assumption)**

*   **목표:** 스트레스 수준이 달라져도 고장 메커니즘이 동일하게 유지되는지(가속성) 검증합니다. 가속성이 성립해야만 정상 조건으로의 외삽(extrapolation)이 유효합니다.
*   **세부 내용:**
    1.  **시각적 확인:** 2단계에서 그린 확률지에서 각 스트레스 수준별로 적합된 직선들이 서로 **평행**한지 확인합니다. 선들이 평행하다면 가속성이 성립한다고 볼 수 있습니다.
    2.  **통계적 검정:**
        *   **형상모수(Shape Parameter) 비교:** 와이블 분포의 경우 형상모수(β), 대수정규 분포의 경우 형상모수(σ)가 모든 스트레스 수준에서 통계적으로 동일한지 검정합니다. (예: 동일 형상모수에 대한 카이제곱 검정)
        *   검정 결과 p-value가 유의수준(예: 0.05)보다 크면, 형상모수가 동일하다는 귀무가설을 기각할 수 없으므로 가속성이 성립한다고 판단합니다.

#### **4단계: 수명-스트레스 관계식 결정 및 파라미터 추정 (Modeling Life-Stress Relationship)**

*   **목표:** 스트레스와 수명 간의 물리적/경험적 관계를 나타내는 모델(예: 아레니우스, 역거듭제곱)을 수립하고, 모델의 파라미터를 추정합니다.
*   **세부 내용:**
    1.  **가속 모델 선택:** 스트레스의 종류에 따라 적합한 모델을 선택합니다.
        *   **온도 스트레스:** 아레니우스(Arrhenius) 모델
        *   **전압, 압력 등 비열 스트레스:** 역거듭제곱(Inverse Power) 모델
    2.  **모델 파라미터 추정:**
        *   각 스트레스 수준별로 추정된 **척도모수(Scale Parameter, 예: 와이블의 η)** 값을 사용합니다.
        *   수명-스트레스 모델을 선형화(linearize)하여 회귀분석을 수행합니다. (예: 아레니우스 모델의 경우 `ln(η)` vs `1/Temp` 관계를 선형 회귀)
        *   회귀분석 결과로부터 모델의 파라미터(예: 아레니우스 모델의 활성화에너지 `Ea`)를 추정합니다.

#### **5단계: 사용조건 수명 추정 및 신뢰성 척도 계산 (Estimation at Use Condition)**

*   **목표:** 완성된 가속수명모델을 이용해 **정상 사용 조건**에서의 수명을 예측하고, 의사결정에 필요한 다양한 신뢰성 척도를 계산합니다.
*   **세부 내용:**
    1.  **사용 조건 수명분포 추정:**
        *   수립된 수명-스트레스 모델에 정상 사용 조건의 스트레스 값(예: 60℃)을 대입하여 해당 조건에서의 척도모수(η)를 계산합니다.
        *   3단계에서 검증된 공통 형상모수(β)와 함께 사용 조건에서의 완전한 수명분포(예: Weibull(η_use, β))를 정의합니다.
    2.  **신뢰성 척도 계산:**
        *   **B수명(B-Life):** 특정 누적고장확률(p)에 해당하는 수명 `Bp`를 계산합니다. (예: `B10`은 10%의 제품이 고장나는 시간)
        *   **평균수명(MTTF):** 제품의 평균 고장 시간을 계산합니다.
        *   **누적고장확률(CDF):** 특정 시간 `t`까지 제품이 고장날 확률 `F(t)`를 계산합니다.
        *   **신뢰도(Reliability):** 특정 시간 `t`까지 제품이 고장나지 않고 생존할 확률 `R(t) = 1 - F(t)`를 계산합니다.
